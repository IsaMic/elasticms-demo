{% extends '@EMSCH/template/blocks/abstract-block.html.twig' %}

{%  block row %}
    {% set reusableContent = item.object.reusable_content|emsch_get %}

    {% set children = item.children|default([]) %}
    {% if reusableContent and attribute(reusableContent.source, locale).content is defined %}
        {% set children = attribute(reusableContent.source, locale).content|ems_json_menu_decode.structure|merge(children) %}
    {% endif %}

    {% set item = item|merge({children: children}) %}
    {{ parent() }}
{%  endblock row %}

{% block widget %}{% endblock widget %}